<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión Boy Scout - Grupo Scout Lima 12</title>
    
    <!-- CSS Framework y Librerías -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/main.css">
    
    <style>
        .header-modern {
            background: linear-gradient(135deg, #2E7D4A 0%, #4CAF50 100%);
            color: white;
            padding: 0;
        }
        .navbar {
            padding: 1rem 0;
        }
        .logo-modern {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: white;
        }
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #F4A460 0%, #FFD54F 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        .hero-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 4rem 0;
        }
        .form-section {
            background: #f8f9fa;
            padding: 2rem 0;
        }
        .form-container {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            max-width: 900px;
            margin: 0 auto;
        }
        
        /* Progress Steps */
        .progress-steps-horizontal {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .step-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #e9ecef;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }
        
        .step-item.active .step-circle {
            background: #2E7D4A;
            color: white;
            border-color: #4CAF50;
            box-shadow: 0 4px 12px rgba(46, 125, 74, 0.3);
        }
        
        .step-item.completed .step-circle {
            background: #28a745;
            color: white;
        }
        
        .step-info h6 {
            margin: 0;
            font-weight: 600;
            color: #495057;
        }
        
        .step-item.active .step-info h6 {
            color: #2E7D4A;
        }
        
        .step-info small {
            color: #6c757d;
            font-size: 0.75rem;
        }
        
        .step-line {
            flex: 1;
            height: 3px;
            background: #e9ecef;
            margin: 0 1rem;
            margin-top: -30px;
            position: relative;
            z-index: 1;
        }
        
        .step-line.completed {
            background: #28a745;
        }
        
        /* Step Content */
        .step-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }
        
        .step-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .step-header {
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 1rem;
        }
        
        /* Age Display */
        .age-display {
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .age-display.has-age {
            border-color: #2E7D4A;
            background: linear-gradient(135deg, #f8f9fa, #e8f5e9);
        }
        
        /* Rama Badge */
        .rama-badge {
            padding: 2rem;
        }
        
        .rama-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
        }
        
        .rama-manada .rama-icon { background: linear-gradient(135deg, #8BC34A, #689F38); }
        .rama-tropa .rama-icon { background: linear-gradient(135deg, #FF9800, #F57C00); }
        .rama-caminante .rama-icon { background: linear-gradient(135deg, #2196F3, #1976D2); }
        .rama-clan .rama-icon { background: linear-gradient(135deg, #9C27B0, #7B1FA2); }
        .rama-default .rama-icon { background: #6c757d; }
        
        .rama-name {
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .rama-description {
            color: #6c757d;
            margin: 0;
        }
        
        /* Form Validation */
        .form-control:invalid:not(:placeholder-shown) {
            border-color: #dc3545;
        }
        
        .form-control:valid:not(:placeholder-shown) {
            border-color: #28a745;
        }
        
        .was-validated .form-control:invalid {
            border-color: #dc3545;
        }
        
        .was-validated .form-control:valid {
            border-color: #28a745;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .progress-steps-horizontal {
                flex-direction: column;
            }
            
            .step-line {
                width: 3px;
                height: 40px;
                margin: 0.5rem 0;
            }
            
            .form-container {
                margin: 0 1rem;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header Mejorado -->
        <!-- Header -->
    <header class="header-modern">
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <div class="logo-modern">
                    <div class="logo-icon">
                        <i class="fas fa-campground"></i>
                    </div>
                    <div>
                        <h3 class="mb-0">Boy Scout</h3>
                        <small>Grupo Lima 12</small>
                    </div>
                </div>
                
                <div class="navbar-nav ms-auto">
                    <a class="nav-link text-white" href="#registro">
                        <i class="fas fa-user-plus me-2"></i>Registro
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container text-center">
            <h1 class="display-4 fw-bold text-primary mb-3">
                Registro de <span class="text-success">Boy Scout</span>
            </h1>
            <p class="lead text-muted mb-4">
                Completa todos los datos para registrar un nuevo miembro de nuestro grupo scout
            </p>
        </div>
    </section>

    <!-- Formulario -->
    <section class="form-section">
        <div class="container">
            <div class="form-container">
                <!-- Progress Steps -->
                <div class="progress-wrapper mb-4">
                    <div class="text-center mb-4">
                        <h2 class="text-primary">Proceso de Registro</h2>
                        <p class="text-muted">Completa la información en 3 simples pasos</p>
                    </div>
                    
                    <div class="progress-steps-horizontal">
                        <div class="step-item active" data-step="1">
                            <div class="step-circle">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="step-info">
                                <h6>Datos Personales</h6>
                                <small>Información básica</small>
                            </div>
                        </div>
                        <div class="step-line"></div>
                        <div class="step-item" data-step="2">
                            <div class="step-circle">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="step-info">
                                <h6>Datos Familiares</h6>
                                <small>Contacto de emergencia</small>
                            </div>
                        </div>
                        <div class="step-line"></div>
                        <div class="step-item" data-step="3">
                            <div class="step-circle">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="step-info">
                                <h6>Confirmación</h6>
                                <small>Revisar y enviar</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <form id="registrationForm">
                    <!-- Paso 1: Datos Personales -->
                    <div class="step-content active" id="step1">
                        <div class="step-header mb-4">
                            <h3 class="text-primary">
                                <i class="fas fa-user me-2"></i>
                                Datos Personales
                            </h3>
                            <p class="text-muted">Información básica del scout</p>
                        </div>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="nombres" class="form-label fw-semibold">
                                    Nombres <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="nombres" name="nombres" required>
                                <div class="invalid-feedback">Por favor ingresa los nombres.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="apellidos" class="form-label fw-semibold">
                                    Apellidos <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="apellidos" name="apellidos" required>
                                <div class="invalid-feedback">Por favor ingresa los apellidos.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="fechaNacimiento" class="form-label fw-semibold">
                                    Fecha de Nacimiento <span class="text-danger">*</span>
                                </label>
                                <input type="date" class="form-control" id="fechaNacimiento" name="fechaNacimiento" required>
                                <div class="invalid-feedback">Por favor selecciona la fecha de nacimiento.</div>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-semibold">Edad Calculada</label>
                                <div class="age-display p-3 bg-light rounded">
                                    <div class="d-flex align-items-center">
                                        <div class="age-icon me-3">
                                            <i class="fas fa-birthday-cake text-primary fs-4"></i>
                                        </div>
                                        <div>
                                            <div class="age-number fs-4 fw-bold text-primary" id="edadNumero">--</div>
                                            <small class="text-muted">años</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="tipoDocumento" class="form-label fw-semibold">
                                    Tipo de Documento <span class="text-danger">*</span>
                                </label>
                                <select class="form-select" id="tipoDocumento" name="tipoDocumento" required>
                                    <option value="">Seleccionar...</option>
                                    <option value="dni">DNI</option>
                                    <option value="carnet">Carnet de Extranjería</option>
                                    <option value="pasaporte">Pasaporte</option>
                                </select>
                                <div class="invalid-feedback">Por favor selecciona el tipo de documento.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="numeroDocumento" class="form-label fw-semibold">
                                    Número de Documento <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="numeroDocumento" name="numeroDocumento" required>
                                <div class="invalid-feedback">Por favor ingresa el número de documento.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="sexo" class="form-label fw-semibold">
                                    Sexo <span class="text-danger">*</span>
                                </label>
                                <select class="form-select" id="sexo" name="sexo" required>
                                    <option value="">Seleccionar...</option>
                                    <option value="masculino">Masculino</option>
                                    <option value="femenino">Femenino</option>
                                </select>
                                <div class="invalid-feedback">Por favor selecciona el sexo.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="telefono" class="form-label fw-semibold">
                                    Teléfono/Celular
                                </label>
                                <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="999 999 999">
                            </div>
                            <div class="col-12">
                                <label for="direccion" class="form-label fw-semibold">
                                    Dirección <span class="text-danger">*</span>
                                </label>
                                <textarea class="form-control" id="direccion" name="direccion" rows="2" placeholder="Ingresa la dirección completa" required></textarea>
                                <div class="invalid-feedback">Por favor ingresa la dirección.</div>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-end mt-4">
                            <button type="button" class="btn btn-primary btn-lg px-4" onclick="nextStep()">
                                Siguiente
                                <i class="fas fa-arrow-right ms-2"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Paso 2: Datos Familiares -->
                    <div class="step-content" id="step2">
                        <div class="step-header mb-4">
                            <h3 class="text-primary">
                                <i class="fas fa-users me-2"></i>
                                Datos del Tutor/Familiar
                            </h3>
                            <p class="text-muted">Información del contacto de emergencia</p>
                        </div>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="nombreTutor" class="form-label fw-semibold">
                                    Nombre Completo del Tutor <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="nombreTutor" name="nombreTutor" required>
                                <div class="invalid-feedback">Por favor ingresa el nombre del tutor.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="parentesco" class="form-label fw-semibold">
                                    Parentesco <span class="text-danger">*</span>
                                </label>
                                <select class="form-select" id="parentesco" name="parentesco" required>
                                    <option value="">Seleccionar...</option>
                                    <option value="padre">Padre</option>
                                    <option value="madre">Madre</option>
                                    <option value="tutor">Tutor Legal</option>
                                    <option value="abuelo">Abuelo/a</option>
                                    <option value="tio">Tío/a</option>
                                    <option value="hermano">Hermano/a Mayor</option>
                                    <option value="otro">Otro</option>
                                </select>
                                <div class="invalid-feedback">Por favor selecciona el parentesco.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="telefonoTutor" class="form-label fw-semibold">
                                    Teléfono del Tutor <span class="text-danger">*</span>
                                </label>
                                <input type="tel" class="form-control" id="telefonoTutor" name="telefonoTutor" placeholder="999 999 999" required>
                                <div class="invalid-feedback">Por favor ingresa el teléfono del tutor.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="emailTutor" class="form-label fw-semibold">
                                    Email del Tutor
                                </label>
                                <input type="email" class="form-control" id="emailTutor" name="emailTutor" placeholder="ejemplo@correo.com">
                                <small class="form-text text-muted">Para recibir información del grupo scout</small>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-between mt-4">
                            <button type="button" class="btn btn-outline-secondary btn-lg px-4" onclick="prevStep()">
                                <i class="fas fa-arrow-left me-2"></i>
                                Anterior
                            </button>
                            <button type="button" class="btn btn-primary btn-lg px-4" onclick="nextStep()">
                                Siguiente
                                <i class="fas fa-arrow-right ms-2"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Paso 3: Confirmación -->
                    <div class="step-content" id="step3">
                        <div class="step-header mb-4">
                            <h3 class="text-success">
                                <i class="fas fa-check-circle me-2"></i>
                                Confirmación y Rama Scout
                            </h3>
                            <p class="text-muted">Revisar información y asignación de rama</p>
                        </div>
                        
                        <!-- Resumen de Datos -->
                        <div class="card mb-4">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">
                                    <i class="fas fa-user me-2"></i>
                                    Resumen de Datos Personales
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>Nombre:</strong> <span id="resumenNombre">--</span></p>
                                        <p><strong>Documento:</strong> <span id="resumenDocumento">--</span></p>
                                        <p><strong>Edad:</strong> <span id="resumenEdad">--</span></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><strong>Sexo:</strong> <span id="resumenSexo">--</span></p>
                                        <p><strong>Teléfono:</strong> <span id="resumenTelefono">--</span></p>
                                        <p><strong>Tutor:</strong> <span id="resumenTutor">--</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Rama Asignada -->
                        <div class="card mb-4">
                            <div class="card-header bg-success text-white">
                                <h5 class="mb-0">
                                    <i class="fas fa-sitemap me-2"></i>
                                    Rama Scout Asignada
                                </h5>
                            </div>
                            <div class="card-body text-center">
                                <div id="ramaDisplay" class="rama-badge">
                                    <div class="rama-icon">
                                        <i class="fas fa-question"></i>
                                    </div>
                                    <h4 class="rama-name">Sin asignar</h4>
                                    <p class="rama-description">Ingresa la fecha de nacimiento</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-between mt-4">
                            <button type="button" class="btn btn-outline-secondary btn-lg px-4" onclick="prevStep()">
                                <i class="fas fa-arrow-left me-2"></i>
                                Anterior
                            </button>
                            <button type="submit" class="btn btn-success btn-lg px-5">
                                <i class="fas fa-save me-2"></i>
                                Registrar Scout
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Hero Section Mejorado -->
    <main class="main-modern">
        <div class="container-fluid">
            <section class="hero-modern" data-aos="fade-up">
                <div class="hero-background">
                    <div class="hero-shapes">
                        <div class="shape shape-1"></div>
                        <div class="shape shape-2"></div>
                        <div class="shape shape-3"></div>
                    </div>
                </div>
                
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <div class="hero-content">
                            <div class="hero-badge" data-aos="fade-right" data-aos-delay="100">
                                <i class="fas fa-shield-alt"></i>
                                <span>Sistema de Gestión Scout</span>
                            </div>
                            <h1 class="hero-title" data-aos="fade-right" data-aos-delay="200">
                                Registro de <span class="text-gradient">Boy Scout</span>
                            </h1>
                            <p class="hero-subtitle" data-aos="fade-right" data-aos-delay="300">
                                Completa todos los datos para registrar un nuevo miembro de nuestro grupo scout
                            </p>
                            <div class="hero-stats" data-aos="fade-right" data-aos-delay="400">
                                <div class="stat-item">
                                    <div class="stat-number">156</div>
                                    <div class="stat-label">Scouts Activos</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">4</div>
                                    <div class="stat-label">Ramas Activas</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-number">12</div>
                                    <div class="stat-label">Años de Historia</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="hero-visual" data-aos="fade-left" data-aos-delay="500">
                            <div class="visual-container">
                                <div class="visual-icon">
                                    <i class="fas fa-hiking"></i>
                                </div>
                                <div class="visual-elements">
                                    <div class="element element-1"></div>
                                    <div class="element element-2"></div>
                                    <div class="element element-3"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Form Section Mejorado -->
            <section class="registration-section-modern" data-aos="fade-up" data-aos-delay="600">
                <div class="container">
                    <div class="form-container-modern">
                    <!-- Progress Indicator Mejorado -->
                    <div class="progress-modern">
                        <div class="progress-header">
                            <h3>Proceso de Registro</h3>
                            <p>Completa la información en 3 simples pasos</p>
                        </div>
                        <div class="progress-steps">
                            <div class="progress-step active" data-step="1">
                                <div class="step-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="step-content">
                                    <div class="step-title">Datos Personales</div>
                                    <div class="step-description">Información básica del scout</div>
                                </div>
                                <div class="step-number">1</div>
                            </div>
                            <div class="progress-step" data-step="2">
                                <div class="step-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="step-content">
                                    <div class="step-title">Datos Familiares</div>
                                    <div class="step-description">Contacto de emergencia</div>
                                </div>
                                <div class="step-number">2</div>
                            </div>
                            <div class="progress-step" data-step="3">
                                <div class="step-icon">
                                    <i class="fas fa-sitemap"></i>
                                </div>
                                <div class="step-content">
                                    <div class="step-title">Rama Scout</div>
                                    <div class="step-description">Asignación y especialización</div>
                                </div>
                                <div class="step-number">3</div>
                            </div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 33.33%"></div>
                        </div>
                    </div>

                    <!-- Form Steps -->
                    <form class="registration-form p-4" id="registrationForm">
                        <!-- Step 1: Datos Personales -->
                        <div class="form-step active" id="step1">
                            <div class="step-header text-center mb-5">
                                <div class="step-icon-large mx-auto mb-3">
                                    <i class="fas fa-user"></i>
                                </div>
                                <h2 class="step-title">Datos Personales</h2>
                                <p class="step-description">Información básica del scout</p>
                            </div>
                            
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" id="nombres" name="nombres" class="form-control" placeholder="Nombres" required>
                                        <label for="nombres">
                                            <i class="fas fa-user me-2"></i>
                                            Nombres *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" id="apellidos" name="apellidos" class="form-control" placeholder="Apellidos" required>
                                        <label for="apellidos">
                                            <i class="fas fa-user me-2"></i>
                                            Apellidos *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="date" id="fechaNacimiento" name="fechaNacimiento" class="form-control" required>
                                        <label for="fechaNacimiento">
                                            <i class="fas fa-calendar me-2"></i>
                                            Fecha de Nacimiento *
                                        </label>
                                    </div>
                                    <small class="form-text text-muted">Formato: DD-MM-AAAA</small>
                                </div>

                                <div class="col-md-6">
                                    <div class="age-display-modern">
                                        <div class="age-icon">
                                            <i class="fas fa-birthday-cake"></i>
                                        </div>
                                        <div class="age-content">
                                            <div class="age-label">Edad Calculada</div>
                                            <div class="age-value" id="edadCalculada">
                                                <span class="age-number">-</span>
                                                <span class="age-text">años</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="form-floating">
                                        <textarea id="direccion" name="direccion" class="form-control" style="height: 100px" placeholder="Dirección completa" required></textarea>
                                        <label for="direccion">
                                            <i class="fas fa-map-marker-alt me-2"></i>
                                            Dirección Completa *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-floating">
                                        <select id="pais" name="pais" class="form-select" required>
                                            <option value="">Seleccionar</option>
                                            <option value="peru" selected>Perú</option>
                                        </select>
                                        <label for="pais">
                                            <i class="fas fa-globe me-2"></i>
                                            País *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-floating">
                                        <select id="departamento" name="departamento" class="form-select" required>
                                            <option value="">Seleccionar</option>
                                        </select>
                                        <label for="departamento">
                                            <i class="fas fa-map me-2"></i>
                                            Departamento *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-floating">
                                        <select id="provincia" name="provincia" class="form-select" required disabled>
                                            <option value="">Seleccionar</option>
                                        </select>
                                        <label for="provincia">
                                            <i class="fas fa-map-pin me-2"></i>
                                            Provincia *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-floating">
                                        <select id="distrito" name="distrito" class="form-select" required disabled>
                                            <option value="">Seleccionar</option>
                                        </select>
                                        <label for="distrito">
                                            <i class="fas fa-location-dot me-2"></i>
                                            Distrito *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="tel" id="celular" name="celular" class="form-control" placeholder="Celular" required>
                                        <label for="celular">
                                            <i class="fas fa-mobile-alt me-2"></i>
                                            Celular *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="tel" id="telefono" name="telefono" class="form-control" placeholder="Teléfono">
                                        <label for="telefono">
                                            <i class="fas fa-phone me-2"></i>
                                            Teléfono
                                        </label>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="file-upload-modern">
                                        <label for="foto" class="file-upload-label">
                                            <i class="fas fa-camera me-2"></i>
                                            Foto del Scout
                                        </label>
                                        <div class="file-upload-area">
                                            <input type="file" id="foto" name="foto" accept="image/*" class="file-input">
                                            <div class="file-upload-content">
                                                <div class="file-upload-icon">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                </div>
                                                <div class="file-upload-text">
                                                    <span>Arrastra una imagen aquí o <strong>haz clic para seleccionar</strong></span>
                                                    <small>PNG, JPG o GIF (máx. 5MB)</small>
                                                </div>
                                            </div>
                                            <div class="file-preview" id="filePreview"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="activo" name="activo" checked>
                                        <label class="form-check-label" for="activo">
                                            <i class="fas fa-toggle-on me-2"></i>
                                            <span class="toggle-text">Activo</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Datos Familiares -->
                        <div class="form-step" id="step2">
                            <div class="step-header text-center mb-5">
                                <div class="step-icon-large mx-auto mb-3">
                                    <i class="fas fa-users"></i>
                                </div>
                                <h2 class="step-title">Datos del Familiar Responsable</h2>
                                <p class="step-description">Información del contacto familiar</p>
                            </div>

                            <div class="familiar-search-modern mb-4">
                                <div class="search-container">
                                    <div class="form-floating">
                                        <input type="text" id="buscarFamiliar" class="form-control" placeholder="Buscar familiar...">
                                        <label for="buscarFamiliar">
                                            <i class="fas fa-search me-2"></i>
                                            Buscar Familiar Existente
                                        </label>
                                    </div>
                                    <div class="search-results" id="searchResults"></div>
                                </div>
                                <div class="divider-modern">
                                    <span>o registrar nuevo familiar</span>
                                </div>
                            </div>

                            <div class="row g-4">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" id="familiarNombres" name="familiarNombres" class="form-control" placeholder="Nombres" required>
                                        <label for="familiarNombres">
                                            <i class="fas fa-user me-2"></i>
                                            Nombres del Familiar *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" id="familiarApellidos" name="familiarApellidos" class="form-control" placeholder="Apellidos" required>
                                        <label for="familiarApellidos">
                                            <i class="fas fa-user me-2"></i>
                                            Apellidos del Familiar *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-floating">
                                        <select id="parentesco" name="parentesco" class="form-select" required>
                                            <option value="">Seleccionar</option>
                                            <option value="papa">Papá</option>
                                            <option value="mama">Mamá</option>
                                            <option value="hermano">Hermano</option>
                                            <option value="hermana">Hermana</option>
                                            <option value="primo">Primo</option>
                                            <option value="prima">Prima</option>
                                            <option value="tio">Tío</option>
                                            <option value="tia">Tía</option>
                                            <option value="hijo">Hijo</option>
                                            <option value="hija">Hija</option>
                                            <option value="abuelo">Abuelo</option>
                                            <option value="abuela">Abuela</option>
                                        </select>
                                        <label for="parentesco">
                                            <i class="fas fa-users me-2"></i>
                                            Parentesco *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-floating">
                                        <input type="tel" id="familiarCelular" name="familiarCelular" class="form-control" placeholder="Celular" required>
                                        <label for="familiarCelular">
                                            <i class="fas fa-mobile-alt me-2"></i>
                                            Celular *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-floating">
                                        <input type="tel" id="familiarTelefono" name="familiarTelefono" class="form-control" placeholder="Teléfono">
                                        <label for="familiarTelefono">
                                            <i class="fas fa-phone me-2"></i>
                                            Teléfono
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Datos de Rama -->
                        <div class="form-step" id="step3">
                            <div class="step-header text-center mb-5">
                                <div class="step-icon-large mx-auto mb-3">
                                    <i class="fas fa-sitemap"></i>
                                </div>
                                <h2 class="step-title">Rama o Unidad Scout</h2>
                                <p class="step-description">Asignación según edad y experiencia</p>
                            </div>

                            <!-- Age Validation Alert -->
                            <div class="alert alert-warning d-none" id="ageAlert" role="alert">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <span id="ageAlertText"></span>
                            </div>

                            <div class="row g-4 mb-5">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <select id="rama" name="rama" class="form-select" required>
                                            <option value="">Seleccionar rama</option>
                                            <option value="manada">Manada (7-10 años)</option>
                                            <option value="tropa">Tropa (11-14 años)</option>
                                            <option value="caminante">Caminante (15-17 años)</option>
                                            <option value="clan">Clan (18-21 años)</option>
                                        </select>
                                        <label for="rama">
                                            <i class="fas fa-sitemap me-2"></i>
                                            Rama *
                                        </label>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="date" id="fechaIngreso" name="fechaIngreso" class="form-control" required>
                                        <label for="fechaIngreso">
                                            <i class="fas fa-calendar-plus me-2"></i>
                                            Fecha de Ingreso *
                                        </label>
                                    </div>
                                </div>

                                <!-- Campos específicos por rama -->
                                <div class="col-12">
                                    <div id="ramaSpecificFields"></div>
                                </div>
                            </div>

                            <!-- Timeline de Ramas Mejorado -->
                            <div class="rama-timeline-modern" id="ramaTimeline">
                                <h3 class="timeline-title text-center mb-4">Línea de Tiempo de Ramas Scout</h3>
                                <div class="timeline-container-modern">
                                    <div class="timeline-line"></div>
                                    <div class="timeline-items">
                                        <div class="timeline-item-modern" data-rama="manada">
                                            <div class="timeline-dot manada">
                                                <i class="fas fa-paw"></i>
                                            </div>
                                            <div class="timeline-content-modern">
                                                <h4>Manada</h4>
                                                <span>7-10 años</span>
                                                <p>Lobatos y Lobatas</p>
                                            </div>
                                        </div>
                                        <div class="timeline-item-modern" data-rama="tropa">
                                            <div class="timeline-dot tropa">
                                                <i class="fas fa-hiking"></i>
                                            </div>
                                            <div class="timeline-content-modern">
                                                <h4>Tropa</h4>
                                                <span>11-14 años</span>
                                                <p>Scouts en Patrullas</p>
                                            </div>
                                        </div>
                                        <div class="timeline-item-modern" data-rama="caminante">
                                            <div class="timeline-dot caminante">
                                                <i class="fas fa-compass"></i>
                                            </div>
                                            <div class="timeline-content-modern">
                                                <h4>Caminante</h4>
                                                <span>15-17 años</span>
                                                <p>Exploración y Aventura</p>
                                            </div>
                                        </div>
                                        <div class="timeline-item-modern" data-rama="clan">
                                            <div class="timeline-dot clan">
                                                <i class="fas fa-mountain"></i>
                                            </div>
                                            <div class="timeline-content-modern">
                                                <h4>Clan</h4>
                                                <span>18-21 años</span>
                                                <p>Rovers y Servicio</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Form Navigation Mejorado -->
                        <div class="form-navigation-modern d-flex justify-content-between align-items-center p-4 border-top">
                            <button type="button" class="btn btn-outline-secondary btn-lg d-none" id="prevBtn">
                                <i class="fas fa-arrow-left me-2"></i>
                                Anterior
                            </button>
                            <div class="flex-grow-1"></div>
                            <button type="button" class="btn btn-primary btn-lg" id="nextBtn">
                                Siguiente
                                <i class="fas fa-arrow-right ms-2"></i>
                            </button>
                            <button type="submit" class="btn btn-success btn-lg d-none" id="submitBtn">
                                <i class="fas fa-save me-2"></i>
                                Registrar Scout
                            </button>
                        </div>
                    </form>
                </div>
            </section>
                </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- JavaScript básico para funcionalidad -->
    <script>
        let currentStep = 1;
        const totalSteps = 3;
        
        // Navegación entre pasos
        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStep < totalSteps) {
                    showStep(currentStep + 1);
                }
            }
        }
        
        function prevStep() {
            if (currentStep > 1) {
                showStep(currentStep - 1);
            }
        }
        
        function showStep(step) {
            // Ocultar paso actual
            document.querySelector(`#step${currentStep}`).classList.remove('active');
            document.querySelector(`.step-item[data-step="${currentStep}"]`).classList.remove('active');
            
            // Marcar pasos completados
            if (step > currentStep) {
                document.querySelector(`.step-item[data-step="${currentStep}"]`).classList.add('completed');
                document.querySelector(`.step-line:nth-of-type(${currentStep * 2})`).classList.add('completed');
            }
            
            // Mostrar nuevo paso
            currentStep = step;
            document.querySelector(`#step${currentStep}`).classList.add('active');
            document.querySelector(`.step-item[data-step="${currentStep}"]`).classList.add('active');
            
            // Actualizar resumen si estamos en el paso 3
            if (currentStep === 3) {
                updateSummary();
            }
        }
        
        // Validación de pasos
        function validateCurrentStep() {
            const currentStepElement = document.querySelector(`#step${currentStep}`);
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.classList.add('is-invalid');
                    isValid = false;
                } else {
                    field.classList.remove('is-invalid');
                    field.classList.add('is-valid');
                }
            });
            
            if (!isValid) {
                // Mostrar mensaje de error
                Swal.fire({
                    icon: 'warning',
                    title: 'Campos Requeridos',
                    text: 'Por favor completa todos los campos obligatorios antes de continuar.',
                    confirmButtonColor: '#2E7D4A'
                });
            }
            
            return isValid;
        }
        
        // Cálculo de edad automático
        document.getElementById('fechaNacimiento').addEventListener('change', function() {
            const fechaNac = new Date(this.value);
            const hoy = new Date();
            let edad = hoy.getFullYear() - fechaNac.getFullYear();
            const mes = hoy.getMonth() - fechaNac.getMonth();
            
            if (mes < 0 || (mes === 0 && hoy.getDate() < fechaNac.getDate())) {
                edad--;
            }
            
            // Actualizar display de edad
            document.getElementById('edadNumero').textContent = edad;
            const ageDisplay = document.querySelector('.age-display');
            ageDisplay.classList.add('has-age');
            
            // Asignar rama automáticamente
            updateRamaDisplay(edad);
        });
        
        function updateRamaDisplay(edad) {
            const ramaDisplay = document.getElementById('ramaDisplay');
            let ramaInfo = { clase: 'default', icono: 'question', nombre: 'Sin asignar', descripcion: 'Edad fuera del rango scout' };
            
            if (edad >= 7 && edad <= 10) {
                ramaInfo = { clase: 'manada', icono: 'paw', nombre: 'Manada', descripcion: 'Lobatos y Lobeznas (7-10 años)' };
            } else if (edad >= 11 && edad <= 14) {
                ramaInfo = { clase: 'tropa', icono: 'campground', nombre: 'Tropa Scout', descripcion: 'Scouts (11-14 años)' };
            } else if (edad >= 15 && edad <= 17) {
                ramaInfo = { clase: 'caminante', icono: 'hiking', nombre: 'Caminantes', descripcion: 'Rovers/Rangers (15-17 años)' };
            } else if (edad >= 18 && edad <= 21) {
                ramaInfo = { clase: 'clan', icono: 'mountain', nombre: 'Clan Rover', descripcion: 'Rovers (18-21 años)' };
            }
            
            ramaDisplay.className = `rama-badge rama-${ramaInfo.clase}`;
            ramaDisplay.querySelector('.rama-icon i').className = `fas fa-${ramaInfo.icono}`;
            ramaDisplay.querySelector('.rama-name').textContent = ramaInfo.nombre;
            ramaDisplay.querySelector('.rama-description').textContent = ramaInfo.descripcion;
        }
        
        // Actualizar resumen en paso 3
        function updateSummary() {
            const formData = new FormData(document.getElementById('registrationForm'));
            
            document.getElementById('resumenNombre').textContent = 
                `${formData.get('nombres')} ${formData.get('apellidos')}`;
            document.getElementById('resumenDocumento').textContent = 
                `${formData.get('tipoDocumento').toUpperCase()}: ${formData.get('numeroDocumento')}`;
            document.getElementById('resumenEdad').textContent = 
                `${document.getElementById('edadNumero').textContent} años`;
            document.getElementById('resumenSexo').textContent = 
                formData.get('sexo').charAt(0).toUpperCase() + formData.get('sexo').slice(1);
            document.getElementById('resumenTelefono').textContent = 
                formData.get('telefono') || 'No especificado';
            document.getElementById('resumenTutor').textContent = 
                `${formData.get('nombreTutor')} (${formData.get('parentesco')})`;
        }
        
        // Manejo del formulario
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateCurrentStep()) {
                return;
            }
            
            // Recopilar todos los datos
            const formData = new FormData(this);
            const data = {};
            
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            // Agregar información calculada
            data.edad = document.getElementById('edadNumero').textContent;
            data.rama = document.querySelector('.rama-name').textContent;
            
            // Mostrar confirmación
            Swal.fire({
                icon: 'success',
                title: '¡Scout Registrado!',
                text: 'Los datos se han guardado correctamente en el sistema.',
                confirmButtonColor: '#28a745',
                confirmButtonText: 'Continuar'
            }).then(() => {
                console.log('Datos del scout registrado:', data);
                // Aquí iría la lógica para enviar los datos al servidor
                
                // Opcional: limpiar formulario y volver al paso 1
                // this.reset();
                // showStep(1);
            });
        });
        
        // Validación en tiempo real
        document.querySelectorAll('input, select').forEach(field => {
            field.addEventListener('blur', function() {
                if (this.hasAttribute('required')) {
                    if (!this.value.trim()) {
                        this.classList.add('is-invalid');
                        this.classList.remove('is-valid');
                    } else {
                        this.classList.remove('is-invalid');
                        this.classList.add('is-valid');
                    }
                }
            });
        });
    </script>
    
    <!-- SweetAlert2 para mejores alertas -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>
</html>
